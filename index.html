<html>
	<head>
		<script src="jquery.min.js" type="text/javascript"></script>
		<script src="phonegap.js"></script>
		<script src="jquery.jsonp-2.1.4.min.js"></script>
		<script type="text/javascript" src="PushNotification.js"></script>
		<script>
			var app = {
    // Application Constructor
    initialize: function() {
        this.bindEvents();
    },
    // Bind Event Listeners
    //
    // Bind any events that are required on startup. Common events are:
    // 'load', 'deviceready', 'offline', and 'online'.
    bindEvents: function() {
        document.addEventListener('deviceready', function() { app.onDeviceReady(); }, false);
    },
    // deviceready Event Handler
    //
    // The scope of 'this' is the event. In order to call the 'receivedEvent'
    // function, we must explicity call 'app.receivedEvent(...);'
    onDeviceReady: function() {
        app.receivedEvent('deviceready');
    },
    tokenHandler:function(msg) {
        console.log("Token Handler " + msg);
    },
    errorHandler:function(error) {
        console.log("Error Handler  " + error);
    },
    // result contains any message sent from the plugin call
    successHandler: function(result) {
    },
    // Update DOM on a Received Event
    receivedEvent: function(id) {
        var pushNotification = window.plugins.pushNotification;
        // TODO: Enter your own GCM Sender ID in the register call for Android
        if (device.platform == 'android' || device.platform == 'Android') {
            pushNotification.register(this.successHandler, this.errorHandler,{"senderID":"1099281208462","ecb":"app.onNotificationGCM"});
        }
        console.log('Received Event: ' + id);
    },
    // Android
    onNotificationGCM: function(e) {
        switch( e.event )
        {
            case 'registered':
                if ( e.regid.length > 0 )
                {
                    // Your GCM push server needs to know the regID before it can push to this device
                    // here is where you might want to send it the regID for later use.
					alert(e.regid);
                }
            break;

            case 'message':
				navigator.notification.vibrate(2500);
				// if this flag is set, this notification happened while we were in the foreground.
				// you might want to play a sound to get the user's attention, throw up a dialog, etc.
				if ( e.foreground )
				{
				}
				else
				{  // otherwise we were launched because the user touched a notification in the notification tray.
					if ( e.coldstart )
					{
						window.location.replace('index.html');
					}
					else
					{
						window.location.replace('index.html');
					}
				}
            break;

            case 'error':
            break;

            default:
              break;
        }
    }

	};
	app.initialize();
		
	
		</script>
		<meta charset="UTF-8">
		<meta name="viewport" content="user-scalable=no" />
		<style>
		</style>
	</head>
		<frameset rows="*,150px">
		  <frame src="http://www.teste.aberhosting.com/mobile/noticia.php?id=4">
		  <frame src="ads.html">
		</frameset>
</html>